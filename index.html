<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fullscreen API Attack - Security Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // C·∫•u h√¨nh Tailwind CSS
      tailwind.config = {
          theme: {
              extend: {
                  colors: {
                      'netflix-red': '#e50914',
                      'netflix-red-dark': '#f40612',
                  }
              }
          }
      };
    </script>
    <link rel="stylesheet" href="./landing_page.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>üõ°Ô∏è Fullscreen API Attack</h1>
        <p class="subtitle">Nghi√™n c·ª©u l·ªó h·ªïng b·∫£o m·∫≠t trong tr√¨nh duy·ªát web</p>
        <div class="warning-badge">‚ö†Ô∏è Educational Purpose Only</div>
      </header>

      <div class="content">
        <div class="card">
          <div class="icon">üéØ</div>
          <h2>Fullscreen API Attack l√† g√¨?</h2>
          <p>
            Fullscreen API Attack l√† m·ªôt k·ªπ thu·∫≠t t·∫•n c√¥ng l·ª£i d·ª•ng Fullscreen
            API c·ªßa tr√¨nh duy·ªát ƒë·ªÉ t·∫°o ra c√°c trang web gi·∫£ m·∫°o c√≥ th·ªÉ l·ª´a ƒë·∫£o
            ng∆∞·ªùi d√πng.
          </p>
          <p>
            K·∫ª t·∫•n c√¥ng c√≥ th·ªÉ s·ª≠ d·ª•ng API n√†y ƒë·ªÉ hi·ªÉn th·ªã n·ªôi dung to√†n m√†n
            h√¨nh, che gi·∫•u thanh ƒë·ªãa ch·ªâ v√† c√°c th√†nh ph·∫ßn UI c·ªßa tr√¨nh duy·ªát.
          </p>
        </div>

        <div class="card">
          <div class="icon">‚ö°</div>
          <h2>M·ª©c ƒë·ªô nguy hi·ªÉm</h2>
          <p>
            K·ªπ thu·∫≠t n√†y c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c cu·ªôc t·∫•n c√¥ng phishing
            tinh vi, n∆°i ng∆∞·ªùi d√πng kh√¥ng th·ªÉ nh·∫≠n bi·∫øt ƒë∆∞·ª£c URL th·ª±c c·ªßa trang
            web.
          </p>
          <p>
            ƒê·∫∑c bi·ªát nguy hi·ªÉm khi k·∫øt h·ª£p v·ªõi social engineering ƒë·ªÉ t·∫°o ra
            nh·ªØng trang ƒëƒÉng nh·∫≠p gi·∫£ m·∫°o c√°c d·ªãch v·ª• ph·ªï bi·∫øn.
          </p>
        </div>
      </div>

      <div class="attack-steps">
        <h2>üîç C√°ch th·ª©c ho·∫°t ƒë·ªông</h2>
        <div class="steps-grid">
          <div class="step">
            <div class="step-number">1</div>
            <h3>K√≠ch ho·∫°t</h3>
            <p>S·ª≠ d·ª•ng JavaScript ƒë·ªÉ g·ªçi requestFullscreen() API</p>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <h3>Che gi·∫•u UI</h3>
            <p>·∫®n thanh ƒë·ªãa ch·ªâ v√† c√°c th√†nh ph·∫ßn c·ªßa tr√¨nh duy·ªát</p>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <h3>Gi·∫£ m·∫°o</h3>
            <p>Hi·ªÉn th·ªã giao di·ªán gi·∫£ m·∫°o trang web h·ª£p ph√°p</p>
          </div>
          <div class="step">
            <div class="step-number">4</div>
            <h3>Thu th·∫≠p</h3>
            <p>L·ª´a ng∆∞·ªùi d√πng nh·∫≠p th√¥ng tin nh·∫°y c·∫£m</p>
          </div>
        </div>
      </div>

      <div class="disclaimer">
        <h3>‚ö†Ô∏è Tuy√™n b·ªë mi·ªÖn tr·ª´ tr√°ch nhi·ªám</h3>
        <p>
          Demo n√†y ƒë∆∞·ª£c t·∫°o ra ch·ªâ v·ªõi m·ª•c ƒë√≠ch gi√°o d·ª•c v√† nghi√™n c·ª©u b·∫£o m·∫≠t.
          Vi·ªác s·ª≠ d·ª•ng k·ªπ thu·∫≠t n√†y cho m·ª•c ƒë√≠ch b·∫•t h·ª£p ph√°p l√† ho√†n to√†n b·ªã
          c·∫•m v√† c√≥ th·ªÉ d·∫´n ƒë·∫øn h·∫≠u qu·∫£ ph√°p l√Ω nghi√™m tr·ªçng.
        </p>
      </div>

      <div class="demo-section">
        <h2>üß™ Th·ª≠ nghi·ªám Demo</h2>
        <p style="margin-bottom: 30px; font-size: 1.1rem; opacity: 0.9">
          Kh√°m ph√° c√°ch th·ª©c ho·∫°t ƒë·ªông c·ªßa Fullscreen API Attack th√¥ng qua demo
          t∆∞∆°ng t√°c
        </p>
        <a href="./index2.html" class="demo-button" onclick="openDemo()">
          üöÄ Ch·∫°y Demo Th·ª≠ Nghi·ªám
        </a>
      </div>

      <footer class="footer">
        <p>
          &copy; 2025 WebSec Lab | Ch·ªâ d√†nh cho m·ª•c ƒë√≠ch gi√°o d·ª•c
        </p>
      </footer>
    </div>

    <script>
      const btn = document.querySelector(".demo-button"); // ‚úÖ l·∫•y ƒë√∫ng 1 element
      btn.addEventListener("click", function (e) {
        e.preventDefault(); // ch·∫∑n chuy·ªÉn trang

        const elem = document.documentElement;

        // Y√™u c·∫ßu fullscreen
        const requestFS =
          elem.requestFullscreen?.bind(elem) ||
          elem.webkitRequestFullscreen?.bind(elem) ||
          elem.mozRequestFullScreen?.bind(elem) ||
          elem.msRequestFullscreen?.bind(elem);

        if (requestFS) {
          requestFS().catch(() => {});
        }

        // T·∫£i n·ªôi dung index2.html v√† g√°n v√†o body
        fetch(this.href)
          .then((res) => res.text())
          .then((html) => {
            // L√™n ƒë·∫ßu
            document.documentElement.scrollTop = 0;
            document.body.innerHTML = html;
            // Initialize all events after loading Netflix page
            initTrollEvents();
            initCarousel();
            initFAQ();
            initSmoothScroll();
          })
          .catch((err) => console.error(err));
      });

      // Function to initialize troll events
      function initTrollEvents() {
        const signInBtn = document.getElementById("sign-in-button");
        const ctaBtn = document.getElementById("cta-button");
        
        if (signInBtn) {
          signInBtn.addEventListener("click", function (e) {
            e.preventDefault();
            showTrollDialog();
          });
        }
        
        if (ctaBtn) {
          ctaBtn.addEventListener("click", function (e) {
            e.preventDefault();
            showTrollDialog();
          });
        }
      }

      // Function to show troll dialog
      function showTrollDialog() {
        const dialog = document.getElementById("trollDialog");
        const closeBtn = document.getElementById("closeTroll");
        const audio = document.getElementById("trollAudio");

        if (dialog && closeBtn && audio) {
          dialog.style.display = "flex";
          audio.currentTime = 0;
          audio.play();
          
          closeBtn.addEventListener("click", () => {
            dialog.style.display = "none";
            audio.pause();
          });
        }
      }

      // Function to initialize carousel
      function initCarousel() {
        const trendList = document.getElementById('trend-list');
        if (!trendList) return;
        
        const items = Array.from(trendList.children);
        let currentIndex = 0;
        let visibleCount = 1;
        let itemWidth = 0;
        let gap = 16;

        function updateLayout() {
          const w = window.innerWidth;
          if (w >= 1280) visibleCount = 5;
          else if (w >= 1024) visibleCount = 4;
          else if (w >= 768) visibleCount = 3;
          else if (w >= 640) visibleCount = 2;
          else visibleCount = 1;

          if (items.length > 0) {
            const firstItem = items[0];
            itemWidth = firstItem.offsetWidth;
          }
        }

        function updateCarousel() {
          const translateX = -(currentIndex * (itemWidth + gap));
          trendList.style.transform = `translateX(${translateX}px)`;
          updateButtonStates();
        }

        function updateButtonStates() {
          const prevBtn = document.getElementById('trend-prev');
          const nextBtn = document.getElementById('trend-next');
          
          if (prevBtn) {
            if (currentIndex <= 0) {
              prevBtn.classList.remove('visible');
              prevBtn.classList.add('hidden');
            } else {
              prevBtn.classList.remove('hidden');
              prevBtn.classList.add('visible');
            }
          }
          
          if (nextBtn) {
            if (currentIndex >= items.length - visibleCount) {
              nextBtn.classList.remove('visible');
              nextBtn.classList.add('hidden');
            } else {
              nextBtn.classList.remove('hidden');
              nextBtn.classList.add('visible');
            }
          }
        }

        function nextTrending() {
          const maxIndex = items.length - visibleCount;
          if (currentIndex < maxIndex) {
            currentIndex = Math.min(currentIndex + visibleCount, maxIndex);
            updateCarousel();
          }
        }

        function prevTrending() {
          if (currentIndex > 0) {
            currentIndex = Math.max(currentIndex - visibleCount, 0);
            updateCarousel();
          }
        }

        // Event listeners
        const nextBtn = document.getElementById('trend-next');
        const prevBtn = document.getElementById('trend-prev');
        
        if (nextBtn) {
          nextBtn.onclick = (e) => {
            e.preventDefault();
            if (currentIndex < items.length - visibleCount) {
              nextTrending();
            }
          };
        }
        
        if (prevBtn) {
          prevBtn.onclick = (e) => {
            e.preventDefault();
            if (currentIndex > 0) {
              prevTrending();
            }
          };
        }

        // Window resize handler
        window.addEventListener('resize', () => {
          updateLayout();
          const maxIndex = items.length - visibleCount;
          if (currentIndex > maxIndex) {
            currentIndex = Math.max(0, maxIndex);
          }
          updateCarousel();
        });

        // Hover effects
        items.forEach(item => {
          item.addEventListener('mouseenter', () => {
            item.style.transform = 'scale(1.05)';
            item.style.zIndex = '20';
          });
          
          item.addEventListener('mouseleave', () => {
            item.style.transform = 'scale(1)';
            item.style.zIndex = '1';
          });
        });

        // Initialize
        updateLayout();
        updateCarousel();
        
        if (prevBtn) prevBtn.classList.add('hidden');
        if (nextBtn) nextBtn.classList.add('visible');

        // Handle image load
        items.forEach(item => {
          const img = item.querySelector('img');
          if (img) {
            img.addEventListener('load', () => {
              updateLayout();
              updateCarousel();
            });
          }
        });

        // Click to be trolled
        items.forEach(item => {
          item.addEventListener('click', (e) => {
            e.preventDefault();
            showTrollDialog();
          });
        });
      }

      // Function to initialize FAQ
      function initFAQ() {
        document.querySelectorAll('.faq-question').forEach(question => {
          question.addEventListener('click', () => {
            const answer = question.nextElementSibling;
            const icon = question.querySelector('span');
            const isActive = answer.style.maxHeight && answer.style.maxHeight !== '0px';

            // Close all other FAQ items
            document.querySelectorAll('.faq-question').forEach(q => {
              const a = q.nextElementSibling;
              const i = q.querySelector('span');
              a.style.maxHeight = '0px';
              i.style.transform = 'rotate(0deg)';
            });

            // Toggle current item
            if (!isActive) {
              answer.style.maxHeight = answer.scrollHeight + 'px';
              icon.style.transform = 'rotate(45deg)';
            }
          });
        });
      }

      // Function to initialize smooth scroll
      function initSmoothScroll() {
        const links = document.querySelectorAll('a[href="#"]');
        links.forEach(link => {
          link.addEventListener('click', (e) => {
            e.preventDefault();
          });
        });
      }
    </script>
  </body>
</html>
